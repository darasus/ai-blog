---
title: Working with databases in Java
createdAt: 2022-07-09T06:25:16.133Z
updatedAt: 2022-07-17T07:14:39.984Z
category: coding
---

## Database Basics

A database is a warehouse of information that is stored in a particular way so that you can easily find and retrieve that information later. There are many different types of databases — each with their own strengths and weaknesses — and each type has a different methodology for storing and retrieving data. This is why if you’re working with databases, you need to know how each type of database works so you can make the right design decisions for your software system.

Databases store their data in a collection of tables. Each table represents one set of data. Each table has a number of columns that represent different attributes of that data. And finally, each column has a data type associated with it so that the database knows how to interpret the data properly. The rows of data in a table are a collection of individual records that each have a set of values for each column of that table.

## JDBC

JDBC is the Java Database Connectivity library that you use to build software that works with a variety of databases. Not only does it provide a consistent way of working with many types of databases, but it also has a wide selection of tools and extensions that further expand its functionality. The JDBC library itself is the part of the Java language that you use in your code to interact with a database. It’s an API that lets you execute SQL statements against any database that has an implementation of JDBC. As a developer, it’s your job to pick which database to use. Once you’ve chosen the database, you’ll need to find out if there is a JDBC driver available for it. This is the library that translates between your code and the database itself. Given the wide range of databases and versions, this is an important consideration. If you are working with an older database, it’s likely that you won’t be able to use the latest version of JDBC. Alternatively, if you’re working with a newer database, it’s possible that there isn’t a JDBC driver available for it yet. In either case, it’s a good idea to check to see if there is a driver available before you start coding. If you’re working with a newer database, your best bet is to see if a third-party vendor has created a driver for it.

## Working With Databases In Java

The code below is a very basic example of creating a data table in a database and then inserting a record into that table using Java code. The code uses the java.sql.Connection interface as well as the java.sql.SQLExecution interface. Given this, it will compile against any version of Java from 1.8 onwards and against any database that has a JDBC driver. The code below is a very basic example of creating a data table in a database and then inserting a record into that table using Java code. We do this by first creating a connection to the database, followed by acquiring a java.sql.Statement object, and then using that statement to execute an SQL INSERT statement against the database. For example, we’re using the SQL INSERT statement below to create a table called “products” within the “my_database” database. After creating this table, we INSERT a single row into the “products” table with a “name” and “price” column. Here, we’re setting “name” to “hammer” and “price” to “10.99”. Finally, we’re done with our connection to the database, so we close it. pre> code> import java.sql.Connection; import java.sql.Statement; import java.sql.SQLException; import java.sql.DriverManager; public class CreatingABasicDatabase { public static void main(String[] args) { // Create connection to database Connection connection = DriverManager.getConnection("jdbc:mysql://localhost/my_database"); // Create statement to insert into table Statement statement = connection.createStatement(); // INSERT statement to insert record into products table statement.execute("INSERT INTO products (name, price) VALUES ('hammer', '10.99')"); // Done with database connection, close it connection.close(); } } /code> /pre> This code will compile against any version of Java from 1.8 onwards and against any database that has a JDBC driver.

## Android Setup For Working With Databases

To use a database in Android, you’ll need to first add the appropriate database library to your project. There are dozens of database libraries for Android, each with its own advantages and disadvantages. We’ll focus on a few of the more popular ones in the section below. Once you’ve added a database library to your project, you need to add it to your list of dependencies. You do this by editing your “build.gradle” file to add the name of the library followed by the version you’re using. pre> code> compile 'com.android.database.sqlite:androidx.annotation.sqlite-compat' /code> /pre> Next, you’ll need to create a database and create a table to store your data in. You’ll do this using the SQLiteOpenHelper class and its “onCreate()” and “onUpgrade()” methods. pre> code> // Database helper is a class that manages creating and upgrading your database // It is bound to the Application class, so it will be created once per app SQLiteOpenHelper dbHelper = new SQLiteOpenHelper(this); // Creating the “products” table by passing in the name of the table dbHelper.onCreate(new SQLiteDatabase.CursorCallback() { @Override public void onCreate(SQLiteDatabase db) { db.execSQL("CREATE TABLE IF NOT EXISTS products (name TEXT, price INT)"); } }); // Upgrading the database from version “1” to “2” dbHelper.onUpgrade(new SQLiteOpenHelper.OnUpgradeCallback() { @Override public void onUpgrade(SQLiteOpenHelper oldHelper, SQLiteOpenHelper newHelper) { oldHelper.dropTable("products"); oldHelper.createTable("products", "name TEXT, price INT"); newHelper.addTable("products"); } }); /code> /pre> Once you have your database created and your table created, you can use the SQLiteDatabase class to run queries against the database. You’ll need to create an instance of this class by initializing it with the path to the database file. You can do this by retrieving the path to the database file by calling the “openOrCreateDatabase()” method on the SQLiteOpenHelper class. pre> code> // Creating a database and binding it to the application SQLiteDatabase db = this.getDatabase(); // Retrieving the path to the database String databasePath = db.openOrCreateDatabase( Environment.DIRECTORY_ANDROID_DB, null, null); /code> /pre> Once you have an instance of SQLiteDatabase, you can use standard SQL syntax to query your database and return the results as a java.util.List of Java objects. pre> code> // This database query will return all rows in the table String query = "SELECT * FROM products"; // This query is executed against the database and results in a List
